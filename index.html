<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <script type="text/javascript" src="http://openlayers.org/api/2.13.1/OpenLayers.js"></script>
    <title>HomeLocator</title>
    <!-- Pointer events polyfill for old browsers, see https://caniuse.com/#feat=pointer -->
    <script src="https://unpkg.com/elm-pep"></script>
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/ol-geocoder@latest/dist/ol-geocoder.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/ol-geocoder"></script> <!-- Geocoder -->
    <script src="https://unpkg.com/ol-layerswitcher@3.8.3"></script> <!-- LayerSwitcher -->
    <script src="dist/ors-js-client.js"></script> <!-- OpenRouteService -->
    <script data-main="index" src="require.js"></script> <!-- RequireJS -->
    <script src="https://d3js.org/d3.v6.js"></script> <!--D3.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.8.2.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="/">
        <img src="images/favicon-32x32.png" height="32" alt="HomeLocator">
        HomeLocator 
      </a>
      <!-- The button tag is for when we change dimensions of the window, so as if there isn't enough space for all the tabs to be shown, the ''wrap'' inside a button-->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">

          <li class="nav-item">
            <a class="nav-link" href="/html/about.html">About<span class="sr-only"></span></a>
          </li>
        </ul>
        <span class="navbar-text">
          Find your future neighborhood.
        </span>
      </div>
    </nav>

    <script type='text/javascript'>
      $(function(){
      var overlay = $('<div id="overlay"></div>');
      overlay.show();
      overlay.appendTo(document.body);
      $('.popup').show();
      $('.close').click(function(){
      $('.popup').hide();
      overlay.appendTo(document.body).remove();
      return false;
      });
      
      
       
      
      $('.x').click(function(){
      $('.popup').hide();
      overlay.appendTo(document.body).remove();
      return false;
      });
      });
    </script>
  
    <div class='popup'>
      <div class='cnt223'>
        <h1>Welcome/Tutorial</h1>
        <div class="center"><img src="images/HomeLocator Logo.png" alt="HomeLocator Logo" width="200px" height="200px"></div>
        <p>
        Provide some quick information about the app as well as some general notes on how to use it?
        <br/>
        <br/>
        <a href='' class='close'>Close</a>
        </p>
      </div>
    </div>

    <div id="map"></div>

    <div class="pane">

      <h1>Search Criteria</h1>

      <ul id="js-searchCriteria">
        <!--Toggle Universities Slider-->
        <li>
          <label>
            <input type="checkbox" class="uniToggle">
            <span>Universities</span>
          </label>
          <div id="uniSlider">
            <p>Distance from Universities (0 to 180 Km)</p>
            <input type="range" min="0" max="180" value="90" id="uniDistance" 
              step="1" oninput="uniOutputUpdate(value)">
            <output for="fader" id="uniRange">90</output>
            <script>
              function uniOutputUpdate(uniKilometers) {
                document.querySelector('#uniRange').value = uniKilometers;
              }
            </script>
          </div>
          <script>
            $(function () {
              $('.uniToggle').change(function () {                
                $('#uniSlider').toggle(this.checked);
              }).change(); //ensure visible state matches initially
            });
          </script>
        </li>

        <!--Toggle Schools Slider-->
        <li>
          <label>
            <input type="checkbox" class="schoolToggle">
            <span>Schools</span>
          </label>
          <div id="schoolSlider">
            <p>Distance from Schools (0 to 90 Km)</p>
            <input type="range" min="0" max="90" value="45" id="schoolDistance" 
              step="1" oninput="schoolsOutputUpdate(value)">
            <output for="fader" id="schoolRange">45</output>
            <script>
              function schoolsOutputUpdate(schoolKilometers) {
                document.querySelector('#schoolRange').value = schoolKilometers;
              }
            </script>
          </div>
          <script>
            $(function () {
              $('.schoolToggle').change(function () {                
                $('#schoolSlider').toggle(this.checked);
              }).change(); //ensure visible state matches initially
            });
          </script>
        </li>

        <!--Toggle Parks Slider-->
        <li>
          <label>
            <input type="checkbox" class="parksToggle">
            <span>Parks</span>
          </label>
          <div id="parksSlider">
            <p>Distance from Parks (0 to 40 Km)</p>
            <input type="range" min="0" max="40" value="20" id="parksDistance" 
              step="1" oninput="parksOutputUpdate(value)">
            <output for="fader" id="parksRange">20</output>
            <script>
              function parksOutputUpdate(parksKilometers) {
                document.querySelector('#parksRange').value = parksKilometers;
              }
            </script>
          </div>
          <script>
            $(function () {
              $('.parksToggle').change(function () {                
                $('#parksSlider').toggle(this.checked);
              }).change(); //ensure visible state matches initially
            });
          </script>
        </li>

      </ul>

      <hr>

      <h6>Isochrone Options:</h6>

      <div>
        Click a point on the map to see travel times.
        Selected Location (Lat/Long):

        <script>
          alert(simple().coordinate);
        </script>
      </div>

      <br>

      <form name="IsoClicker">
        <input type="radio" name="isoradio" value="driving-car">Car
        <input type="radio" name="isoradio" value="cycling-regular">Bike
        <input type="radio" name="isoradio" value="foot-walking">Walk
        <input type="button" value="Submit" onclick="getRadioValue('isoradio');">
    </form>

    <script>
        function getRadioValue(groupName) {
            var radios = IsoClicker.elements[groupName];
            window.rdValue; // declares the global variable 'rdValue'
            for (var i=0; i<radios.length; i++) {
                var someRadio = radios[i];
                if (someRadio.checked) {
                    rdValue = someRadio.value;
                    break;
                }
                else rdValue = 'noRadioChecked';
            }
            if (rdValue == "driving-car" || rdValue == "cycling-regular" || rdValue =="foot-walking") {
                or: console.log("Isoradio action")
            }
            else if (rdValue == 'noRadioChecked') {
                alert('no radio checked');
            }
        }
    </script>


      <div class="slidecontainer">
        <label>Max Commute Time (Minutes)</label>
        <input type="range" min="1" max="120" value="60" class="slider" id="myRange">
        <p>Value: <span id="demo"></span></p>
      </div>

      <script>
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");
        output.innerHTML = slider.value;

        slider.oninput = function() {
          output.innerHTML = this.value;
        }
      </script>
      <div>
        <button type = "button" id = "isochroneActivate">
          Activate isochrone request
        </button>

      <script type='text/javascript' src='./index.js'></script>
      </div>
  </body>

  <!-- Box for Graphs & Info, etc...
  <div class="info-pane">
    <p>Test</p>
  </div>
-->

</html>
